@inject IAuthorizationService AuthorizationService
@using Microsoft.AspNetCore.Authorization
@model List<Portal.ViewModels.HistoryRequestViewModel>
@{
    ViewData["Title"] = "Employee Request History";
}

<h2>Управление</h2>
<h4>Руководителями</h4>
<hr/>

<div class="row">
    <div class="col-md-10">

        <section>
                <div class="form-group">
                    <a asp-controller="Users" asp-action="Create" class="btn btn-default" role="button" aria-pressed="true">Create new Request</a>
                </div>
            <table class="table">
                <tr>
                    <th>Type</th>
                    <th>Status</th>
                    <th>Completed</th>
                    <th>Heads</th>
                    <th>DateFrom</th>
                    <th>DateTo</th>
                    <th>Employee</th>
                    <th></th>
                </tr>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Type)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Status)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Completed)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Heads)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DateFrom)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DateTo)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Employee)
                        </td>
                        <td>
                            <a asp-controller="Users" asp-action="Edit" asp-route-id="@item.Id" class="btn btn-default" role="button" aria-pressed="true">Изменить</a>
                            <a  asp-controller="Users" asp-action="Delete" asp-route-id="@item.Id" class="btn btn-default" role="button" aria-pressed="true">Удалить</a>
                        </td>
                    </tr>
                }
            </table>
        </section>
    </div>
</div>